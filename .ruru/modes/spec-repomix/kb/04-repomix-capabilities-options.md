+++
# --- Basic Metadata ---
id = "KB-REPOMIX-CAPABILITIES-V3" # Updated version
title = "Repomix Specialist: MCP Tool Parameters Reference" # New title
context_type = "knowledge_base"
scope = "Reference guide for parameters used with the repomix MCP server tools" # New scope
target_audience = ["spec-repomix"] # Focus on the specialist mode
status = "active"
last_updated = "2025-05-05" # Use current date
tags = ["repomix", "kb", "mcp", "parameters", "reference", "capabilities", "pack_codebase", "pack_remote_repository", "read_repomix_output"] # Updated tags
related_context = [
    ".roo/rules-spec-repomix/01-repomix-workflow.md",
    ".ruru/modes/spec-repomix/kb/01-decision-tree.md",
    ".ruru/modes/spec-repomix/kb/common-use-cases-examples.md" # Link to examples
    ]
template_schema_doc = ".ruru/templates/toml-md/14_kb_article.README.md"
# --- KB Specific ---
source_ref = "Repomix MCP Server Tool Schemas" # Updated source
+++

# Repomix MCP Tool Parameters Reference

This document provides a reference for the parameters available when using the `repomix` MCP server tools via the `use_mcp_tool` function. The `spec-repomix` mode interacts with Repomix exclusively through these tools.

## 1. `pack_codebase` Tool

Packages a local code directory into a consolidated file for AI analysis.

**Parameters:**

*   `directory` (string, **required**):
    *   The absolute path to the local directory to pack.
    *   *Corresponds conceptually to the source argument in the CLI.*
*   `compress` (boolean, optional, default: `true`):
    *   Utilize Tree-sitter to intelligently extract essential code signatures and structure while removing implementation details, significantly reducing token usage.
    *   *Corresponds to the `--compress` CLI flag.*
*   `includePatterns` (string, optional):
    *   Specify which files to include using fast-glob compatible patterns (e.g., `"**/*.js,src/**"`). Only files matching these patterns will be processed.
    *   *Corresponds to the `--include` CLI flag.*
*   `ignorePatterns` (string, optional):
    *   Specify additional files to exclude using fast-glob compatible patterns (e.g., `"test/**,*.spec.js"`). These patterns complement `.gitignore` and default ignores.
    *   *Corresponds to the `-i` or `--ignore` CLI flag.*
*   `topFilesLength` (number, optional, default: `10`):
    *   Number of top files (by token count) to display in the metrics section of the output.
    *   *Corresponds to the `--top-files-len` CLI flag.*

## 2. `pack_remote_repository` Tool

Fetches, clones, and packages a GitHub repository into a consolidated file for AI analysis.

**Parameters:**

*   `remote` (string, **required**):
    *   GitHub repository URL or shorthand `user/repo` (e.g., `yamadashy/repomix`).
    *   *Corresponds conceptually to the `--remote` CLI flag, but handled internally by the MCP tool's cloning process.*
*   `compress` (boolean, optional, default: `true`):
    *   Same as `pack_codebase.compress`.
*   `includePatterns` (string, optional):
    *   Same as `pack_codebase.includePatterns`.
*   `ignorePatterns` (string, optional):
    *   Same as `pack_codebase.ignorePatterns`.
*   `topFilesLength` (number, optional, default: `10`):
    *   Same as `pack_codebase.topFilesLength`.

**Note:** Branch/tag/commit specification is handled implicitly by the MCP tool based on the provided `remote` URL format or potentially future parameters, not separate flags like `--remote-branch`.

## 3. `read_repomix_output` Tool

Reads the contents of a Repomix output file generated by a previous `pack_*` call, intended for environments where direct file access is not possible.

**Parameters:**

*   `outputId` (string, **required**):
    *   The unique ID of the Repomix output file to read (returned by the `pack_*` tools).

---

*This reference is based on the schemas provided by the `repomix` MCP server.*